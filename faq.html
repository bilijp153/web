<!DOCTYPE html>
<html lang="zh-CN" id="html-root">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NovaSync | FAQ</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style id="theme-style"></style>
  <style>
    :root {
      --primary: #2563eb;
      --secondary: #7e22ce;
      --light-bg: #f8fafc;
      --dark-bg: #0f172a;
      --card-light: #ffffff;
      --card-dark: #1e293b;
      --text-light: #1e293b;
      --text-dark: #f1f5f6;
      --gray-light: #64748b;
      --gray-dark: #94a3b8;
      --border-light: #e2e8f0;
      --border-dark: #334155;
      --transition: all 0.3s ease;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      transition: var(--transition);
    }
    .light body { background-color: var(--light-bg); color: var(--text-light); }
    .dark body { background-color: var(--dark-bg); color: var(--text-dark); }

    header {
      padding: 1rem 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .light header { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; }
    .dark header { background: linear-gradient(135deg, #1d4ed8, #6b21a8); color: white; }

    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    .logo { font-size: 1.5rem; font-weight: 700; }
    .nav-right { display: flex; align-items: center; gap: 1rem; }
    .lang-toggle, .theme-toggle {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 0.4rem 0.8rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
    }
    .nav-links {
      display: flex;
      gap: 1.5rem;
    }
    .nav-links a { color: white; font-weight: 500; }
    .nav-links a:hover { opacity: 0.9; }

    main { padding: 4rem 2rem; max-width: 900px; margin: 0 auto; }
    h1 { font-size: 2.5rem; margin-bottom: 1.5rem; color: var(--primary); }
    .search-box {
      margin-bottom: 2.5rem;
      position: relative;
    }
    .search-input {
      width: 100%;
      padding: 12px 20px 12px 40px;
      border-radius: 12px;
      border: 1px solid;
      font-size: 1rem;
    }
    .light .search-input { border-color: var(--border-light); background: white; }
    .dark .search-input { border-color: var(--border-dark); background: #1e293b; color: white; }
    .search-icon {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray-light);
    }
    .dark .search-icon { color: var(--gray-dark); }

    .faq-item {
      margin-bottom: 1.2rem;
      border-radius: 12px;
      overflow: hidden;
      transition: var(--transition);
    }
    .light .faq-item { border: 1px solid var(--border-light); }
    .dark .faq-item { border: 1px solid var(--border-dark); background: #1e293b; }

    .faq-question {
      padding: 1.3rem 1.5rem;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .light .faq-question { background: white; }
    .dark .faq-question { background: #1e293b; }

    .faq-answer {
      padding: 0 1.5rem;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.35s ease, padding 0.35s ease;
    }
    .light .faq-answer { background: #f8fafc; }
    .dark .faq-answer { background: #1a202c; color: #cbd5e1; }

    .faq-item.active .faq-answer {
      padding: 1.3rem 1.5rem;
      max-height: 800px;
    }

    .toggle-icon {
      transition: transform 0.3s ease;
    }
    .faq-item.active .toggle-icon {
      transform: rotate(180deg);
    }

    footer {
      text-align: center;
      padding: 2.5rem;
    }
    .light footer { background: #f1f5f9; color: var(--gray-light); }
    .dark footer { background: #1a202c; color: var(--gray-dark); }

    @media (max-width: 768px) {
      .nav-links { display: none; }
      main { padding: 2rem 1rem; }
    }
  </style>
</head>
<body class="light">
  <header>
    <div class="nav-container">
      <div class="logo">NovaSync</div>
      <div class="nav-right">
        <select id="lang-select" class="lang-toggle">
          <option value="zh-CN">简体中文</option>
          <option value="zh-TW">繁體中文</option>
          <option value="en">English</option>
        </select>
        <button id="theme-toggle" class="theme-toggle"><i class="fas fa-moon"></i></button>
        <ul class="nav-links">
          <li><a href="index.html" data-i18n="nav.home">首页</a></li>
          <li><a href="hardware.html" data-i18n="nav.hardware">硬件要求</a></li>
          <li><a href="installation.html" data-i18n="nav.installation">安装指南</a></li>
          <li><a href="compatibility.html" data-i18n="nav.compatibility">兼容性</a></li>
          <li><a href="faq.html" data-i18n="nav.faq">常见问题</a></li>
        </ul>
      </div>
    </div>
  </header>

  <main>
    <h1><i class="fas fa-question-circle"></i> <span data-i18n="page.title">常见问题 (FAQ)</span></h1>
    <p data-i18n="page.desc">如果您在使用 NovaSync 时遇到问题，可以先查阅以下高频问题解答。</p>

    <div class="search-box">
      <i class="fas fa-search search-icon"></i>
      <input type="text" class="search-input" id="faq-search" placeholder="输入关键词搜索问题..." data-i18n-placeholder="search.placeholder">
    </div>

    <!-- FAQ items will be populated by JS -->
    <div id="faq-container"></div>
  </main>

  <footer>
    <div data-i18n="footer.copyright">&copy; 2025 NovaSync. 保留所有权利。</div>
  </footer>

  <script>
    // ========== 多语言 FAQ 数据 ==========
    const faqData = {
      "zh-CN": [
        {
          q: "如何重置我的加密密钥？",
          a: "出于安全考虑，加密密钥一旦设置便无法重置。如果您丢失了密钥，将无法解密已同步的数据。建议在设置时将密钥备份至安全的地方（如密码管理器）。您可以在设置中选择“导出恢复包”以生成应急凭证。"
        },
        {
          q: "同步速度很慢，怎么办？",
          a: "请检查以下几点：<br>1. 网络带宽是否充足；<br>2. 是否启用了“限速”选项（设置 > 网络）；<br>3. 同步文件夹是否包含大量小文件（可尝试打包压缩）；<br>4. 防火墙或杀毒软件是否拦截了 NovaSync 进程。"
        },
        {
          q: "是否支持团队协作？",
          a: "是的！NovaSync Business 版本支持多人共享文件夹、权限管理、版本历史追溯等功能。个人免费版仅支持单用户同步。如需团队方案，请联系 sales@novasync.app 获取试用。"
        },
        {
          q: "数据存储在哪里？",
          a: "NovaSync 本身不存储您的文件。所有数据均通过点对点（P2P）或您指定的云存储（如 Dropbox、WebDAV）进行中转。我们仅记录必要的元数据（如同步状态、设备 ID）用于服务维护，且保留不超过 30 天。"
        },
        {
          q: "如何卸载 NovaSync？",
          a: "Windows：控制面板 > 程序和功能 > 卸载 NovaSync。<br>macOS：将应用程序拖入废纸篓，并运行清理脚本（帮助菜单中提供）。<br>Linux：使用对应包管理器（如 <code>sudo apt remove novasync</code>）。<br><br>卸载不会删除您的同步文件夹内容，仅移除程序本身。"
        },
        {
          q: "是否支持增量同步？",
          a: "完全支持！NovaSync 采用块级差异同步技术，仅传输文件变更部分，大幅节省带宽和时间。即使是 10GB 的视频文件，修改几 MB 也只需同步那几 MB。"
        },
        {
          q: "能否选择性同步某些子文件夹？",
          a: "可以。在主界面右键点击同步文件夹，选择“管理同步规则”，即可为每个子目录单独设置“同步”、“仅云端”或“忽略”。"
        },
        {
          q: "移动设备支持哪些功能？",
          a: "Android 应用支持查看、下载、基础上传和通知提醒。由于系统限制，后台同步需保持应用活跃。iOS 版本正在开发中，预计 2026 年 Q1 上线。"
        },
        {
          q: "如何联系技术支持？",
          a: "您可以通过以下方式联系我们：<br>- 邮箱：support@novasync.app<br>- 社区论坛：community.novasync.app<br>- 工单系统（登录账户后可用）<br>我们承诺在 24 小时内回复。"
        },
        {
          q: "是否有命令行版本？",
          a: "有！Linux 和 macOS 用户可通过 <code>brew install novasync</code> 或从 GitHub Releases 下载 CLI 工具。支持脚本化同步、定时任务集成等高级用法。详细文档见 docs.novasync.app/cli。"
        }
      ],
      "zh-TW": [
        {
          q: "如何重設我的加密金鑰？",
          a: "出於安全考量，加密金鑰一旦設定便無法重設。如果您遺失了金鑰，將無法解密已同步的資料。建議在設定時將金鑰備份至安全的地方（如密碼管理器）。您可以在設定中選擇「匯出復原包」以產生應急憑證。"
        },
        {
          q: "同步速度很慢，怎麼辦？",
          a: "請檢查以下幾點：<br>1. 網路頻寬是否充足；<br>2. 是否啟用了「限速」選項（設定 > 網路）；<br>3. 同步資料夾是否包含大量小檔案（可嘗試打包壓縮）；<br>4. 防火牆或防毒軟體是否攔截了 NovaSync 行程。"
        },
        {
          q: "是否支援團隊協作？",
          a: "是的！NovaSync Business 版本支援多人共用資料夾、權限管理、版本歷史追溯等功能。個人免費版僅支援單一使用者同步。如需團隊方案，請聯絡 sales@novasync.app 取得試用。"
        },
        {
          q: "資料儲存在哪裡？",
          a: "NovaSync 本身不儲存您的檔案。所有資料均透過點對點（P2P）或您指定的雲端儲存（如 Dropbox、WebDAV）進行中轉。我們僅記錄必要的中繼資料（如同步狀態、裝置 ID）用於服務維護，且保留不超過 30 天。"
        },
        {
          q: "如何解除安裝 NovaSync？",
          a: "Windows：控制台 > 程式和功能 > 解除安裝 NovaSync。<br>macOS：將應用程式拖入垃圾桶，並執行清理指令碼（說明選單中提供）。<br>Linux：使用對應套件管理員（如 <code>sudo apt remove novasync</code>）。<br><br>解除安裝不會刪除您的同步資料夾內容，僅移除程式本身。"
        },
        {
          q: "是否支援增量同步？",
          a: "完全支援！NovaSync 採用區塊級差異同步技術，僅傳輸檔案變更部分，大幅節省頻寬和時間。即使是 10GB 的影片檔案，修改幾 MB 也只需同步那幾 MB。"
        },
        {
          q: "能否選擇性同步某些子資料夾？",
          a: "可以。在主介面按右鍵點擊同步資料夾，選擇「管理同步規則」，即可為每個子目錄單獨設定「同步」、「僅雲端」或「忽略」。"
        },
        {
          q: "行動裝置支援哪些功能？",
          a: "Android 應用支援檢視、下載、基礎上傳和通知提醒。由於系統限制，背景同步需保持應用程式活躍。iOS 版本正在開發中，預計 2026 年 Q1 上線。"
        },
        {
          q: "如何聯絡技術支援？",
          a: "您可以透過以下方式聯絡我們：<br>- 電子郵件：support@novasync.app<br>- 社群論壇：community.novasync.app<br>- 工單系統（登入帳戶後可用）<br>我們承諾在 24 小時內回覆。"
        },
        {
          q: "是否有命令列版本？",
          a: "有！Linux 和 macOS 使用者可透過 <code>brew install novasync</code> 或從 GitHub Releases 下載 CLI 工具。支援腳本化同步、排程工作整合等進階用法。詳細文件見 docs.novasync.app/cli。"
        }
      ],
      "en": [
        {
          q: "How do I reset my encryption key?",
          a: "For security reasons, the encryption key cannot be reset once set. If you lose it, your synced data becomes unrecoverable. We recommend backing up your key securely (e.g., in a password manager). You can also export a recovery bundle in Settings for emergencies."
        },
        {
          q: "Sync is slow—what should I do?",
          a: "Please check:<br>1. Is your network bandwidth sufficient?<br>2. Have you enabled bandwidth throttling (Settings > Network)?<br>3. Does your folder contain many small files? (Consider archiving)<br>4. Is your firewall or antivirus blocking NovaSync?"
        },
        {
          q: "Does it support team collaboration?",
          a: "Yes! NovaSync Business offers shared folders, role-based permissions, and version history. The free personal edition supports single-user sync only. Contact sales@novasync.app for a team trial."
        },
        {
          q: "Where is my data stored?",
          a: "NovaSync does not store your files. Data is transferred via P2P or your chosen cloud storage (e.g., Dropbox, WebDAV). We only log essential metadata (sync status, device ID) for service maintenance, retained for no more than 30 days."
        },
        {
          q: "How do I uninstall NovaSync?",
          a: "Windows: Control Panel > Programs > Uninstall.<br>macOS: Drag to Trash and run the cleanup script (in Help menu).<br>Linux: Use your package manager (e.g., <code>sudo apt remove novasync</code>).<br><br>Uninstalling removes only the app—not your synced files."
        },
        {
          q: "Does it support incremental sync?",
          a: "Absolutely! NovaSync uses block-level differential sync—only changed parts are transferred. Even for a 10GB video, modifying a few MB means syncing just those MBs."
        },
        {
          q: "Can I selectively sync subfolders?",
          a: "Yes. Right-click your sync folder in the main UI, choose 'Manage Sync Rules,' and set each subdirectory to 'Sync,' 'Cloud Only,' or 'Ignore.'"
        },
        {
          q: "What features are supported on mobile?",
          a: "The Android app supports viewing, downloading, basic uploads, and notifications. Background sync requires the app to stay active due to OS restrictions. iOS is in development, expected Q1 2026."
        },
        {
          q: "How can I contact support?",
          a: "Reach us via:<br>- Email: support@novasync.app<br>- Community forum: community.novasync.app<br>- Ticket system (available after login)<br>We guarantee a response within 24 hours."
        },
        {
          q: "Is there a command-line version?",
          a: "Yes! Linux/macOS users can install via <code>brew install novasync</code> or download the CLI from GitHub Releases. Supports scripting, cron jobs, and advanced automation. See docs.novasync.app/cli for details."
        }
      ]
    };

    const translations = {
      "zh-CN": {
        "nav.home": "首页", "nav.hardware": "硬件要求", "nav.installation": "安装指南", "nav.compatibility": "兼容性", "nav.faq": "常见问题",
        "page.title": "常见问题 (FAQ)",
        "page.desc": "如果您在使用 NovaSync 时遇到问题，可以先查阅以下高频问题解答。",
        "search.placeholder": "输入关键词搜索问题...",
        "footer.copyright": "&copy; 2025 NovaSync. 保留所有权利。"
      },
      "zh-TW": {
        "nav.home": "首頁", "nav.hardware": "硬體需求", "nav.installation": "安裝指南", "nav.compatibility": "相容性", "nav.faq": "常見問題",
        "page.title": "常見問題 (FAQ)",
        "page.desc": "如果您在使用 NovaSync 時遇到問題，可以先查閱以下高頻問題解答。",
        "search.placeholder": "輸入關鍵字搜尋問題...",
        "footer.copyright": "&copy; 2025 NovaSync. 保留所有權利。"
      },
      "en": {
        "nav.home": "Home", "nav.hardware": "Hardware", "nav.installation": "Installation", "nav.compatibility": "Compatibility", "nav.faq": "FAQ",
        "page.title": "Frequently Asked Questions (FAQ)",
        "page.desc": "If you encounter issues while using NovaSync, please review the following common questions first.",
        "search.placeholder": "Search questions by keyword...",
        "footer.copyright": "&copy; 2025 NovaSync. All rights reserved."
      }
    };

    // ========== 主题与语言系统（同前）==========
    function setTheme(theme) {
      document.body.className = theme;
      document.getElementById('theme-toggle').innerHTML = theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
      localStorage.setItem('novasync-theme', theme);
    }
    function getPreferredTheme() {
      const saved = localStorage.getItem('novasync-theme');
      if (saved) return saved;
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    function getBrowserLang() {
      const lang = navigator.language;
      if (lang.startsWith('zh-TW') || lang.startsWith('zh-HK')) return 'zh-TW';
      if (lang.startsWith('zh')) return 'zh-CN';
      return 'en';
    }
    function setLanguage(lang) {
      document.documentElement.lang = lang;
      localStorage.setItem('novasync-lang', lang);
      // 更新静态文本
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.innerHTML = translations[lang][key] || translations['en'][key] || key;
      });
      document.getElementById('lang-select').value = lang;
      // 更新 placeholder
      document.getElementById('faq-search').placeholder = translations[lang]["search.placeholder"];
      // 重新渲染 FAQ
      renderFAQ(lang);
    }

    function renderFAQ(lang) {
      const container = document.getElementById('faq-container');
      const questions = faqData[lang] || faqData['en'];
      container.innerHTML = questions.map((item, index) => `
        <div class="faq-item" data-index="${index}">
          <div class="faq-question">
            <span>${item.q}</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </div>
          <div class="faq-answer">${item.a}</div>
        </div>
      `).join('');

      // 绑定点击事件
      document.querySelectorAll('.faq-question').forEach(el => {
        el.addEventListener('click', () => {
          const item = el.parentElement;
          item.classList.toggle('active');
        });
      });

      // 绑定搜索
      document.getElementById('faq-search').addEventListener('input', filterFAQ);
    }

    function filterFAQ() {
      const query = document.getElementById('faq-search').value.toLowerCase();
      const items = document.querySelectorAll('.faq-item');
      items.forEach(item => {
        const question = item.querySelector('.faq-question span').textContent.toLowerCase();
        const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
        if (question.includes(query) || answer.includes(query)) {
          item.style.display = '';
        } else {
          item.style.display = 'none';
        }
      });
    }

    // ========== 初始化 ==========
    document.addEventListener('DOMContentLoaded', () => {
      const theme = getPreferredTheme();
      setTheme(theme);
      const savedLang = localStorage.getItem('novasync-lang');
      const lang = savedLang || getBrowserLang();
      setLanguage(lang);

      document.getElementById('theme-toggle').addEventListener('click', () => {
        setTheme(document.body.className === 'dark' ? 'light' : 'dark');
      });
      document.getElementById('lang-select').addEventListener('change', (e) => {
        setLanguage(e.target.value);
      });
    });
  </script>
</body>
</html>
